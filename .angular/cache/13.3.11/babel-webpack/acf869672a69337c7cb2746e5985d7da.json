{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../Services/esteganografia.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction HomeEstenografiaComponent_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function HomeEstenografiaComponent_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.downloadNovaImagem();\n    });\n    i0.ɵɵtext(1, \"Baixar Nova Imagem Esteganogr\\u00E1fica\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let HomeEstenografiaComponent = /*#__PURE__*/(() => {\n  class HomeEstenografiaComponent {\n    constructor(router, esteganografiaService) {\n      this.router = router;\n      this.esteganografiaService = esteganografiaService;\n      this.imagemSelecionada = null;\n      this.executavelSelecionado = null;\n      this.novaImagem = null;\n    }\n\n    ngOnInit() {}\n\n    returnToHomePage() {\n      this.router.navigate(['/']);\n    }\n\n    selecionarImagem(event) {\n      this.imagemSelecionada = event.target.files[0];\n    }\n\n    selecionarExecutavel(event) {\n      this.executavelSelecionado = event.target.files[0];\n    }\n\n    gerarImagem(event) {\n      event.preventDefault(); // Evita o recarregamento da página\n\n      if (this.imagemSelecionada && this.executavelSelecionado) {\n        this.esteganografiaService.esconderExecutável(this.imagemSelecionada, this.executavelSelecionado).then(novaImagem => {\n          this.novaImagem = novaImagem;\n        }).catch(err => {\n          console.error(err);\n        });\n      }\n    }\n\n    downloadNovaImagem() {\n      if (this.novaImagem) {\n        const url = window.URL.createObjectURL(this.novaImagem);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = 'nova-imagem.png';\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n      } else {\n        console.error(\"Nenhuma imagem gerada para download.\");\n      }\n    }\n\n  }\n\n  HomeEstenografiaComponent.ɵfac = function HomeEstenografiaComponent_Factory(t) {\n    return new (t || HomeEstenografiaComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.EsteganografiaService));\n  };\n\n  HomeEstenografiaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeEstenografiaComponent,\n    selectors: [[\"app-homeEstenografia\"]],\n    decls: 19,\n    vars: 1,\n    consts: [[3, \"click\"], [3, \"submit\"], [\"for\", \"imagem\"], [\"id\", \"imagem\", \"type\", \"file\", \"accept\", \"image/*\", \"required\", \"\", 3, \"change\"], [\"for\", \"executavel\"], [\"id\", \"executavel\", \"type\", \"file\", \"accept\", \".exe\", \"required\", \"\", 3, \"change\"], [\"type\", \"submit\"], [\"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 3, \"click\"]],\n    template: function HomeEstenografiaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function HomeEstenografiaComponent_Template_button_click_0_listener() {\n          return ctx.returnToHomePage();\n        });\n        i0.ɵɵtext(1, \"Home\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"br\")(3, \"br\");\n        i0.ɵɵelementStart(4, \"form\", 1);\n        i0.ɵɵlistener(\"submit\", function HomeEstenografiaComponent_Template_form_submit_4_listener($event) {\n          return ctx.gerarImagem($event);\n        });\n        i0.ɵɵelementStart(5, \"label\", 2);\n        i0.ɵɵtext(6, \"Selecione a imagem:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"br\");\n        i0.ɵɵelementStart(8, \"input\", 3);\n        i0.ɵɵlistener(\"change\", function HomeEstenografiaComponent_Template_input_change_8_listener($event) {\n          return ctx.selecionarImagem($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"br\");\n        i0.ɵɵelementStart(10, \"label\", 4);\n        i0.ɵɵtext(11, \"Selecione o arquivo execut\\u00E1vel:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"br\");\n        i0.ɵɵelementStart(13, \"input\", 5);\n        i0.ɵɵlistener(\"change\", function HomeEstenografiaComponent_Template_input_change_13_listener($event) {\n          return ctx.selecionarExecutavel($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"br\")(15, \"br\");\n        i0.ɵɵelementStart(16, \"button\", 6);\n        i0.ɵɵtext(17, \"Gerar Imagem Esteganogr\\u00E1fica\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(18, HomeEstenografiaComponent_button_18_Template, 2, 0, \"button\", 7);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngIf\", ctx.novaImagem);\n      }\n    },\n    directives: [i3.NgIf],\n    styles: [\"@charset \\\"UTF-8\\\";.imagem-selecionada[_ngcontent-%COMP%]{max-width:300px;max-height:400px}.vermelho[_ngcontent-%COMP%]{color:red}.verde[_ngcontent-%COMP%]{color:green}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px}button[_ngcontent-%COMP%]:hover{background-color:#45a049}.detectar-button-container[_ngcontent-%COMP%], .status-container[_ngcontent-%COMP%]{margin-top:20px}.status-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;color:#333}.status-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:16px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}@media only screen and (min-width: 600px){.container[_ngcontent-%COMP%]{flex-direction:row;justify-content:center;align-items:flex-start}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0 20px}}\"]\n  });\n  return HomeEstenografiaComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}